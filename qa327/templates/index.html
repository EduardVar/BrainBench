{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}Profile{% endblock %}</h1>
{% endblock %}

{% block content %}
<header class="sub-header">
    <h2 id="welcome-header">Welcome {{ user.name }} !</h2>
    <button class="btn btn-primary"><a href='/logout'>Logout</a></button>
</header>

<section id="main" class="my-4">
    <table class="available-to-buy table">
        <thead class="thread-light">
            <tr>
                <th scope="col">Ticket Name</th>
                <th scope="col">Available</th>
                <th scope="col" r>Purchase</th>
            </tr>
        </thead>
        <tbody>
            {% if not ticket == None %}
                {% for ticket in tickets %}
                    <tr class="ticket">
                        <td class="ticket-name" scope="row"></td>
                        <td class="ticket-quantity-available"></td>
                        <td><button class="purchase-ticket"></button></td>
                    </tr>
                {% endfor %}
            {% else %}
            <tr>
                <td colspan="100%" class="text-center p-4">:( Looks like there are none available</td>
            </tr>
            {% endif %}
        </tbody>
    </table>

    <section class="ticket_actions container d-flex justify-content-center" role="group">
        <button type="button" class="btn btn-primary mx-3" data-target="#update-modal" data-toggle="modal"
            id="submit_new_tickets">Update Tickets</button>
            <!-- {% if ticket == None %} disabled {% endif %} put that back into update tickets -->
        <button type="button" class="btn btn-primary mx-3" data-target="#sumbit-ticket-modal" data-toggle="modal"
            id="update_tickets">Add Tickets</button>
    </section>
</section>

<section class="modal fade" id="update-modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Update Tickets</h5>
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="POST" id="update_ticket">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend"><label for="" class="input-group-text">Name</label></div>
                        <input type="text" class="form-control">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend"><label for="" class="input-group-text">Quantity</label></div>
                        <input type="text" class="form-control">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend"><label for="" class="input-group-text">Price</label></div>
                        <input type="text" class="form-control">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="Date">Expiration Date</label>
                        <input name="Date" type="text" class="form-control datetimepicker-input" id="update-datetime" data-toggle="datetimepicker" data-target="#update-datetime"/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</section>

<section class="modal fade" id="sumbit-ticket-modal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add New Ticket</h5>
                <button type="button" class="close" data-dismiss="modal">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form method="POST" id="submit_new_tickets">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="Name">Name</label>
                        </div>
                        <input type="text" name="Name" class="form-control" id="add-ticket-name" placeholder="Enter Name">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="Quantity">Quantity</label>
                        <input name="Quantity" type="number" min=1 max=100 class="form-control" value="1">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="Price">Price ($)</label>
                        </div>
                        <input name="Price" type="number" min=10 max=100 class="form-control" value="10.00">
                    </div>
                    <div class="input-group mb-3">
                        <label class="input-group-text" for="Date">Expiration Date</label>
                        <input name="Date" type="text" class="form-control datetimepicker-input" id="add-datetime" data-toggle="datetimepicker" data-target="#add-datetime"/>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="submit_new_ticket">Save</button>
            </div>
        </div>
    </div>
</section>

<script src=" {{ url_for('static', filename='js/display_elements.js') }}"></script>
{% endblock %}